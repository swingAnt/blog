WebSocket 是一种在单个 TCP 连接上进行全双工通信的协议。与 HTTP 不同，HTTP 是一种无状态协议，每个请求都需要建立一个新的连接，而 WebSocket 允许客户端和服务器之间保持长期连接，实现实时数据传输。

以下是 WebSocket 的一些关键特点和工作原理：

1.  **特点**：
    
    *   **全双工通信**：客户端和服务器可以同时向对方发送和接收数据。
    *   **长期连接**：建立一次连接后，可以保持连接状态，避免了重复建立连接的开销。
    *   **实时性**：适用于需要实时更新数据的应用，比如聊天应用、实时游戏等。
2.  **工作流程**：
    
    *   **握手阶段**：客户端向服务器发起 WebSocket 握手请求，请求头中包含 Upgrade 和 Connection 字段，服务器返回状态码 101 Switching Protocols 表示握手成功。
    *   **建立连接**：建立连接后，客户端和服务器可以直接通过该连接进行数据传输，无需像 HTTP 那样每次都重新建立连接。
    *   **数据传输**：客户端和服务器可以互相发送文本或二进制数据帧，数据传输是基于数据帧的，可以实现双向实时通信。
    *   **关闭连接**：要关闭连接，可以发送特定的数据帧，或者直接关闭 TCP 连接。
3.  **安全性**：
    
    *   WebSocket 使用加密的连接（wss://）可以确保数据传输的安全性。
    *   服务器需要实现一些安全措施，比如限制连接数、验证连接来源等，以防止恶意攻击。
4.  **应用场景**：
    
    *   实时聊天应用：可以实现实时消息传输。
    *   实时协作编辑：多人协同编辑文档等。
    *   实时数据展示：股票行情、实时监控等。

总的来说，WebSocket 提供了一种高效、实时的通信方式，适用于需要实时数据传输的应用场景。在开发过程中，需要注意安全性和稳定性，确保连接的可靠性和数据的安全传输。